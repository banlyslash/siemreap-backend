# Leave request related types and inputs

# Leave request type
type LeaveRequest {
  id: ID!
  user: User!
  employee: User! @deprecated(reason: "Use 'user' instead")
  employeeId: ID! @deprecated(reason: "Use 'userId' instead")
  leaveType: LeaveType!
  startDate: DateTime!
  endDate: DateTime!
  halfDay: Boolean!
  halfDayStart: Boolean!
  halfDayEnd: Boolean!
  reason: String
  status: LeaveRequestStatus!
  manager: User
  managerComment: String
  managerActionAt: DateTime
  managerApproval: ApprovalInfo @deprecated(reason: "Use individual manager fields instead")
  hr: User
  hrComment: String
  hrActionAt: DateTime
  hrApproval: ApprovalInfo @deprecated(reason: "Use individual hr fields instead")
  createdAt: DateTime!
  updatedAt: DateTime!
}

# Approval info type for backward compatibility
type ApprovalInfo {
  approved: Boolean
  comment: String
  timestamp: DateTime
  by: User
}

# Leave request status enum
enum LeaveRequestStatus {
  pending
  manager_approved
  approved_by_manager @deprecated(reason: "Use 'manager_approved' instead")
  manager_rejected
  rejected_by_manager @deprecated(reason: "Use 'manager_rejected' instead")
  hr_approved
  approved_by_hr @deprecated(reason: "Use 'hr_approved' instead")
  hr_rejected
  rejected_by_hr @deprecated(reason: "Use 'hr_rejected' instead")
  cancelled
}

# Leave request inputs
input CreateLeaveRequestInput {
  userId: ID!
  employeeId: ID @deprecated(reason: "Use 'userId' instead")
  leaveTypeId: ID!
  startDate: DateTime!
  endDate: DateTime!
  halfDay: Boolean
  halfDayStart: Boolean
  halfDayEnd: Boolean
  reason: String
}

input UpdateLeaveRequestInput {
  leaveTypeId: ID
  startDate: DateTime
  endDate: DateTime
  halfDay: Boolean
  halfDayStart: Boolean
  halfDayEnd: Boolean
  reason: String
  status: LeaveRequestStatus
  managerId: ID
  managerComment: String
  managerActionAt: DateTime
  hrId: ID
  hrComment: String
  hrActionAt: DateTime
}
